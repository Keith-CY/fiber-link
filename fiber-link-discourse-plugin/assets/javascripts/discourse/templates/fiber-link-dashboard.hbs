<h2>Fiber Link Dashboard</h2>
<p>
  Uses the service endpoint path:
  <code>/fiber-link/rpc</code> with method <code>dashboard.summary</code>.
</p>

<h3>Balance</h3>
{{#if this.model.isSummaryLoading}}
  <p class="fiber-link-dashboard-loading">Loading balance...</p>
{{else}}
  {{#if this.model.summaryErrorMessage}}
    <p class="fiber-link-dashboard-error">Failed to load balance: {{this.model.summaryErrorMessage}}</p>
  {{else}}
    <p><strong>Available:</strong> {{this.model.balance}} {{this.model.balanceAsset}}</p>
    {{#if this.model.generatedAt}}
      <p><strong>Generated at:</strong> {{this.model.generatedAt}}</p>
    {{/if}}
  {{/if}}
{{/if}}

<h3>Recent Tips</h3>
{{fiber-link-tip-feed
  tips=this.model.tipFeedItems
  isLoading=this.model.isFeedLoading
  errorMessage=this.model.feedErrorMessage
}}

{{#if this.model.refreshedAt}}
  <p><strong>Last refreshed:</strong> {{this.model.refreshedAt}}</p>
{{/if}}

<h3>State Mapping</h3>
<table class="fiber-link-dashboard-mapping">
  <thead>
    <tr>
      <th>UI label</th>
      <th>Backend state</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    {{#each this.model.mappingRows as |row|}}
      <tr>
        <td>{{row.uiState}}</td>
        <td>{{row.backendState}}</td>
        <td>{{row.copy}}</td>
      </tr>
    {{/each}}
  </tbody>
</table>
